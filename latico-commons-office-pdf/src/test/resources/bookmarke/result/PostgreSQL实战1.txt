目录	2
基 础 篇	9
第1章　安装与配置基础	10
	1.1　初识PostgreSQL	10
		1.1.1　PostgreSQL的特点	11
		1.1.2　许可	11
		1.1.3　邮件列表和讨论区	11
	1.2　安装PostgreSQL	11
		1.2.1　通过yum源安装	12
		1.2.2　通过源码编译安装	13
		1.2.3　设置一个软链接	15
	1.3　客户端程序和服务器程序	16
		1.3.1　客户端程序	16
		1.3.2　服务器程序	19
	1.4　创建数据库实例	19
		1.4.1　创建操作系统用户	19
		1.4.2　创建数据目录	20
		1.4.3　初始化数据目录	21
	1.5　启动和停止数据库服务器	22
		1.5.1　使用service方式	23
		1.5.2　使用pg_ctl进行管理	23
		1.5.3　其他启动和关闭数据库服务器的方式	24
		1.5.4　配置开机启动	24
	1.6　数据库配置基础	25
		1.6.1　配置文件的位置	25
		1.6.2　pg_hba.conf	25
		1.6.3　postgresql.conf	27
		1.6.4　允许远程访问数据库	28
	1.7　本章小结	30
第2章　客户端工具	31
	2.1　pgAdmin 4简介	31
		2.1.1　pgAdmin 4 安装	31
		2.1.2　pgAdmin 4 使用	31
	2.2　psql功能及应用	34
		2.2.1　使用psql连接数据库	34
		2.2.2　psql元命令介绍	36
		2.2.3　psql导入、导出表数据	39
		2.2.4　psql的语法和选项介绍	42
		2.2.5　psql执行sql脚本	44
		2.2.6　psql如何传递变量到SQL	45
		2.2.7　使用psql定制日常维护脚本	46
		2.2.8　psql亮点功能	47
	2.3　本章小结	51
第3章　数据类型	52
	3.1　数字类型	52
		3.1.1　数字类型列表	52
		3.1.2　数字类型操作符和数学函数	54
	3.2　字符类型	55
		3.2.1　字符类型列表	55
		3.2.2　字符类型函数	56
	3.3　时间/日期类型	57
		3.3.1　时间/日期类型列表	57
		3.3.2　时间/日期类型操作符	58
		3.3.3　时间/日期类型常用函数	59
	3.4　布尔类型	60
	3.5　网络地址类型	61
		3.5.1　网络地址类型列表	62
		3.5.2　网络地址操作符	63
		3.5.3　网络地址函数	64
	3.6　数组类型	64
		3.6.1　数组类型定义	64
		3.6.2　数组类型值输入	64
		3.6.3　查询数组元素	65
		3.6.4　数组元素的追加、删除、更新	66
		3.6.5　数组操作符	66
		3.6.6　数组函数	67
	3.7　范围类型	68
		3.7.1　范围类型列表	68
		3.7.2　范围类型边界	69
		3.7.3　范围类型操作符	70
		3.7.4　范围类型函数	70
		3.7.5　给范围类型创建索引	71
	3.8　json/jsonb类型	71
		3.8.1　json类型简介	71
		3.8.2　查询json数据	72
		3.8.3　jsonb与json差异	72
		3.8.4　jsonb与json操作符	73
		3.8.5　jsonb与json函数	74
		3.8.6　jsonb键/值的追加、删除、更新	74
	3.9　数据类型转换	76
		3.9.1　通过格式化函数进行转换	76
		3.9.2　通过CAST函数进行转换	76
		3.9.3　通过::操作符进行转换	77
	3.10　本章小结	78
第4章　SQL高级特性	79
	4.1　WITH查询	79
		4.1.1　复杂查询使用CTE	79
		4.1.2　递归查询使用CTE	80
	4.2　批量插入	82
		4.2.1　方式一：INSERT INTO...SELECT...	82
		4.2.2　方式二：INSERT INTO VALUES (),(),...()	83
		4.2.3　方式三：COPY或\COPY元命令	83
	4.3　RETURNING返回修改的数据	84
		4.3.1　RETURNING返回插入的数据	84
		4.3.2　RETURNING返回更新后数据	85
		4.3.3　RETURNING返回删除的数据	85
	4.4　UPSERT	86
		4.4.1　UPSERT场景演示	86
		4.4.2　UPSERT语法	87
	4.5　数据抽样	88
		4.5.1　SYSTEM抽样方式	89
		4.5.2　BERNOULLI抽样方式	90
	4.6　聚合函数	92
		4.6.1　string_agg函数	92
		4.6.2　array_agg函数	93
	4.7　窗口函数	94
		4.7.1　窗口函数语法	94
		4.7.2　avg() OVER()	95
		4.7.3　row_number()	96
		4.7.4　rank()	97
		4.7.5　dense_rank ()	97
		4.7.6　lag()	98
		4.7.7　first_value ()	99
		4.7.8　last_value ()	99
		4.7.9　nth_value ()	100
		4.7.10　窗口函数别名的使用	100
	4.8　本章小结	101
