目录	12
第1章　微服务概述	21
	1.1　什么是微服务	22
	1.2　为什么微服务	23
		1.2.1　区别	24
		1.2.2　从单体应用说起	25
		1.2.3　第一步切分	25
		1.2.4　服务化所带来的问题	26
		1.2.5　微服务的可扩展性	28
		1.2.6　微服务与SOA的区别	28
	1.3　常见的微服务组件	29
	1.4　常用的微服务框架	31
		1.4.1　Spring顶级项目	31
		1.4.2　背景	32
		1.4.3　社区活跃度	34
		1.4.4　架构完整度	36
		1.4.5　总结	37
	1.5　微服务架构设计模式	37
	1.6　如何实施微服务	40
	1.7　小结	40
第2章　微服务设计原则	41
	2.1　设计原则之分层架构	42
	2.2　设计原则之统一通信协议	44
	2.3　设计原则之单一职责	45
	2.4　设计原则之服务拆分	46
	2.5　设计原则之前后端分离	48
	2.6　设计原则之版本控制	49
	2.7　设计原则之围绕业务构建	50
	2.8　设计原则之并发流量控制	50
	2.9　设计原则之CAP	51
	2.10　设计原则之EDA事件驱动	52
	2.11　设计原则之CQRS	53
	2.12　设计原则之基础设施自动化	55
	2.13　设计原则之数据一致性	55
	2.14　设计原则之设计模式	56
	2.15　设计原则之DevOps	59
	2.16　设计原则之无状态服务	60
	2.17　小结	61
第3章　微服务之Spring Boot	62
	3.1　一切从简单开始	64
	3.2　快速集成第三方的Starter	73
	3.3　降低开发复杂度之面向切面	73
		3.3.1　前置通知	75
		3.3.2　后置返回通知	77
		3.3.3　后置异常通知	78
		3.3.4　后置最终通知	78
		3.3.5　环绕通知	79
		3.3.6　AOP总结	80
	3.4　并不复杂的持久化	80
		3.4.1　单数据源	81
		3.4.2　多数据源	83
		3.4.3　JOOQ	85
		3.4.4　事务处理	89
		3.4.5　整合Redis	92
		3.4.6　整合队列	96
		3.4.7　操作MongoDB	103
	3.5　Web开发	105
	3.6　懒人的接口文档管理	109
	3.7　优化的调度	112
	3.8　健康是永恒的主题	114
	3.9　强强联合之整合Dubbo	116
	3.10　小结	121
第4章　微服务之Docker	122
	4.1　Docker原理	124
	4.2　更轻量级的虚拟化	125
	4.3　三个概念理解Docker	127
		4.3.1　镜像（Image）	128
		4.3.2　容器（Container）	130
		4.3.3　仓库（Repository）	133
	4.4　Dockerfile定制一切	133
		4.4.1　Dockerfile语法	133
		4.4.2　Dockerfile命令	134
		4.4.3　Dockerfile构建过程	137
		4.4.4　构建Java环境	138
		4.4.5　Dockerfile小结	140
	4.5　Docker网络	141
		4.5.1　网络模式	141
		4.5.2　link	141
		4.5.3　跨主机访问	142
	4.6　Docker数据卷	142
		4.6.1　数据卷	142
		4.6.2　数据卷容器	144
	4.7　Spring Boot与Docker	144
	4.8　搭建自己的镜像仓库	148
		4.8.1　安装和启动	148
		4.8.2　使用	152
	4.9　Kubernetes	153
	4.10　私有云整体架构	156
	4.11　小结	157
第5章　微服务之Spring Cloud	159
	5.1　注册中心	162
		5.1.1　常用的注册中心	163
		5.1.2　Eureka介绍	164
		5.1.3　服务发现	165
		5.1.4　简单注册	167
	5.2　负载均衡	172
		5.2.1　Spring Cloud的负载实现	174
		5.2.2　Ribbon	175
		5.2.3　Feign	178
		5.2.4　加入core	181
	5.3　微服务容错（Hystrix）	184
		5.3.1　雪崩的形成	184
		5.3.2　应对方案	184
		5.3.3　降级和熔断	185
		5.3.4　Hystrix	186
		5.3.5　集中监控	190
	5.4　分布式配置中心	192
	5.5　API网关	197
		5.5.1　为什么需要网关	198
		5.5.2　Zuul	199
	5.6　消息总线（Spring Cloud Bus）	204
	5.7　小结	206
第6章　微服务之Spring Cloud其他框架	207
	6.1　Spring Cloud Consul	208
	6.2　Spring Cloud ZooKeeper	210
	6.3　Spring Cloud archaius	212
	6.4　Spring Cloud Task	213
	6.5　Spring Cloud Security	214
		6.5.1　HTTP Basic Authentication	215
		6.5.2　JWT	216
		6.5.3　OAuth	223
		6.5.4　Spring Cloud Security	224
	6.6　Spring Cloud Sleuth	225
		6.6.1　服务端	226
		6.6.2　客户端	227
	6.7　Spring Cloud Stream	228
	6.8　Spring Cloud Data Flow	231
	6.9　小结	232
第7章　微服务之自动化测试与质量管理	233
	7.1　微服务测试	234
	7.2　单元测试	236
		7.2.1　单元测试及覆盖率评估	236
		7.2.2　JUnit	237
		7.2.3　Spring Boot单元测试	238
		7.2.4　Mockito	240
	7.3　API测试	242
		7.3.1　Jmeter	244
		7.3.2　压力测试	245
	7.4　A/B测试	247
	7.5　冒烟和回归测试	248
	7.6　静态代码分析	249
		7.6.1　Checkstyle	250
		7.6.2　FindBugs	253
		7.6.3　PMD	254
	7.7　SonarQube质量监控	257
		7.7.1　为什么使用	257
		7.7.2　安装和使用	258
		7.7.3　安装插件	260
		7.7.4　运行流程	260
	7.8　小结	261
第8章　微服务之JHipster	262
	8.1　JHipster技术列表	263
		8.1.1　客户端选项	263
		8.1.2　服务端选项	265
		8.1.3　部署选项	269
	8.2　Angular简介	270
	8.3　快速开始JHipster	271
		8.3.1　安装	271
		8.3.2　使用	272
		8.3.3　构建单体应用	273
		8.3.4　Entity sub-generator	275
		8.3.5　开发和运行	278
		8.3.6　插件安装	280
	8.4　目录结构	280
	8.5　构建微服务应用	281
		8.5.1　注册中心	281
		8.5.2　创建微服务网关	283
		8.5.3　Traefik	286
		8.5.4　JHipster UAA	286
		8.5.5　构建微服务应用	289
	8.6　基础配置	291
		8.6.1　JHipster属性配置	294
		8.6.2　作为Maven项目	294
		8.6.3　数据库	294
		8.6.4　DTO	295
		8.6.5　分页	296
		8.6.6　文档	297
	8.7　小结	301
第9章　微服务之自动化部署	302
	9.1　私有仓库搭建	303
		9.1.1　Nexus介绍	303
		9.1.2　安装与配置	304
		9.1.3　在项目中使用	305
	9.2　Ansible	307
	9.3　持续集成	309
		9.3.1　持续集成流程	310
		9.3.2　Jenkins介绍与安装	311
		9.3.3　Maven介绍	313
		9.3.4　Jenkins系统设置	314
		9.3.5　集成Sonar	315
		9.3.6　构建工程	317
		9.3.7　配置测试	319
	9.4　灰度发布	319
	9.5　小结	322
第10章　微服务之日志收集与监控	323
	10.1　ELK搜集与分析	325
		10.1.1　工作流程	326
		10.1.2　日志格式	326
		10.1.3　平台搭建	327
	10.2　系统监控	330
		10.2.1　监控策略和监控对象	330
		10.2.2　进程监控	331
		10.2.3　数据波动监控	332
		10.2.4　常用监控命令	332
	10.3　运维监控	336
		10.3.1　Zabbix	336
		10.3.2　Open-Falcon	341
	10.4　APM监控	343
		10.4.1　Pinpoint	343
		10.4.2　SkyWalking	345
		10.4.3　Zipkin	346
		10.4.4　CAT	348
	10.5　Pinpoint的安装与使用	350
		10.5.1　Pinpoint的安装	350
		10.5.2　Pinpoint的使用	352
		10.5.3　Pinpoint实现邮件告警	355
	10.6　小结	358
第11章　完整示例	359
	11.1　安装Lombok	360
	11.2　PiggyMetrics	361
	11.3　整体架构	362
		11.3.1　配置Spring Cloud Config	363
		11.3.2　授权服务	364
		11.3.3　API网关	365
		11.3.4　服务发现	365
		11.3.5　负载均衡器、断路器和HTTP客户端	366
		11.3.6　监控仪表盘	367
		11.3.7　日志分析	368
	11.4　安装和运行	368
		11.4.1　配置Maven并导入工程	368
		11.4.2　安装	370
		11.4.3　使用	372
		11.4.4　如何变成自己的项目	374
	11.5　小结	375
第12章　微服务核心功能推荐	376
	12.1　工作流引擎	377
		12.1.1　Activiti	377
		12.1.2　UFLO	378
	12.2　规则引擎	380
		12.2.1　Drools	380
		12.2.2　URule	381
	12.3　调度系统	382
	12.4　消息推送	385
	12.5　网关中间件	388
		12.5.1　Orange	388
		12.5.2　Kong	389
		12.5.3　Zuul	389
	12.6　分库分表中间件	390
		12.6.1　Sharding-JDBC	390
		12.6.2　MyCat	393
	12.7　报表引擎	394
	12.8　数据处理	395
		12.8.1　Spring Batch	396
		12.8.2　Kettle	398
	12.9　并发编程	399
	12.10　分布式配置	400
		12.10.1　Disconf	400
		12.10.2　Apollo	401
	12.11　CAS	403
	12.12　WebFlux	404
	12.13　小结	408
