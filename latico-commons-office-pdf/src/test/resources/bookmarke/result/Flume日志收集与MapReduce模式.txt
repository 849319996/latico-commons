目录	11
封面	1
书名	2
版权	3
前言	4
上篇 Flume日志收集	18
第1章　概览与架构	19
	1.1　Flume 0.9	20
	1.2　Flume 1.X （Flume-NG）	21
	1.3　HDFS与流式数据/日志的问题	22
	1.4　源、通道与接收器	23
	1.5　Flume事件	24
		1.5.1　拦截器、通道选择器与选择处理器	25
		1.5.2　分层数据收集（多数据流与代理）	26
	1.6　小结	27
第2章　Flume快速起步	28
	2.1　下载Flume	28
	2.2　Flume配置文件概览	30
	2.3　从“Hello World”开始	32
	2.4　小结	37
第3章　通道	39
	3.1　内存通道	40
	3.2　文件通道	42
	3.3　小结	46
第4章　接收器与接收处理器	48
	4.1　HDFS接收器	48
		4.1.1　路径与文件名	51
		4.1.2　文件转储	54
	4.2　压缩编解码器	55
	4.3　事件序列化器	55
		4.3.1　文本输出	56
		4.3.2　带有头信息的文本	56
		4.3.3　Apache Avro	56
		4.3.4　文件类型	58
		4.3.5　超时设置与线程池	60
	4.4　接收器组	61
		4.4.1　负载均衡	62
		4.4.2　故障恢复	62
	4.5　小结	63
第5章　源与通道选择器	65
	5.1　使用tail的问题	65
	5.2　exec源	67
	5.3　假脱机目录源	70
	5.4　syslog源	72
		5.4.1　syslog UDP源	73
		5.4.2　syslog TCP源	75
		5.4.3　多端口syslog TCP源	76
	5.5　通道选择器	78
		5.5.1　复制	79
		5.5.2　多路复用	79
	5.6　小结	80
第6章　拦截器、ETL与路由	82
	6.1　拦截器	82
		6.1.1　Timestamp	83
		6.1.2　Host	84
		6.1.3　Static	85
		6.1.4　正则表达式过滤	86
		6.1.5　正则表达式抽取	87
		6.1.6　自定义拦截器	91
	6.2　数据流分层	92
		6.2.1　Avro源/接收器	93
		6.2.2　命令行Avro	95
		6.2.3　Log4J追加器	96
		6.2.4　负载均衡Log4J追加器	98
	6.3　路由	99
	6.4　小结	100
第7章　监控Flume	102
	7.1　监控代理进程	103
		7.1.1　Monit	103
		7.1.2　Nagios	103
	7.2　监控性能度量情况	104
		7.2.1　Ganglia	104
		7.2.2　内部HTTP服务器	106
		7.2.3　自定义监控钩子	108
	7.3　小结	109
第8章　万法皆空——实时分布式数据收集的现状	110
	8.1　传输时间与日志事件	111
	8.2　万恶的时区	111
	8.3　容量规划	112
	8.4　多数据中心的注意事项	113
	8.5　合规性与数据失效	114
	8.6　小结	115
下篇 MapReduce模式	116
第9章　使用Java编写一个单词统计应用（初级）	119
	9.1　准备工作	119
	9.2　操作步骤	120
	9.3　示例说明	120
第10章　使用MapReduce编写一个单词统计应用并运行（初级）	122
	10.1　准备工作	122
	10.2　操作步骤	123
	10.3　示例说明	123
	10.4　补充说明	126
第11章　在分布式环境中安装Hadoop并运行单词统计应用（初级）	127
	11.1　准备工作	128
	11.2　操作步骤	129
	11.3　示例说明	133
第12章　编写格式化器（中级）	134
	12.1　准备工作	135
	12.2　操作步骤	135
	12.3　示例说明	136
	12.4　补充说明	138
第13章　分析——使用MapReduce绘制频度分布（中级）	139
	13.1　准备工作	140
	13.2　操作步骤	140
	13.3　示例说明	142
	13.4　补充说明	145
第14章　关系操作——使用MapReduce连接两个数据集（高级）	146
	14.1　准备工作	147
	14.2　操作步骤	147
	14.3　示例说明	148
	14.4　补充说明	151
第15章　使用MapReduce实现集合操作（中级）	152
	15.1　准备工作	152
	15.2　操作步骤	153
	15.3　示例说明	154
	15.4　补充说明	157
第16章　使用MapReduce实现交叉相关（中级）	158
	16.1　准备工作	158
	16.2　操作步骤	159
	16.3　示例说明	159
	16.4　补充说明	162
第17章　使用MapReduce实现简单搜索（中级）	163
	17.1　准备工作	164
	17.2　操作步骤	164
	17.3　示例说明	165
	17.4　补充说明	167
第18章　使用MapReduce实现简单的图操作（高级）	168
	18.1　准备工作	169
	18.2　操作步骤	169
	18.3　示例说明	170
	18.4　补充说明	174
第19章　使用MapReduce实现Kmeans（高级）	175
	19.1　准备工作	176
	19.2　操作步骤	176
	19.3　示例说明	177
	19.4　补充说明	181
封底	182
