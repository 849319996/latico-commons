封面	1
书名	3
版权	4
前言	5
目录	13
第1章　虚拟化的历史和定义	18
	1.1　数据中心的基本定义	19
		1.1.1　数据中心的演进 ·	19
		1.1.2　作业区以及数据中心架构 ·	21
	1.2　数据中心虚拟化起源	22
		1.2.1　虚拟内存 ·	23
		1.2.2　大型机虚拟化 ·	23
		1.2.3　热备份路由器协议 ·	24
		1.2.4　定义虚拟化 ·	25
		1.2.5　数据中心虚拟化的时间轴 ·	25
	1.3　虚拟化技术分类	26
		1.3.1　虚拟化分类 ·	27
		1.3.2　虚拟化的可扩展性 ·	29
		1.3.3　技术领域 ·	29
		1.3.4　分类的例子 ·	31
	1.4　总结 ·	31
	1.5　扩展阅读 ·	32
第2章　数据中心网络演进	33
	2.1　以太网协议：过去和现在	33
		2.1.1　以太网介质 ·	34
		2.1.2　同轴电缆 ·	34
		2.1.3　双绞电缆 ·	34
		2.1.4　光纤 ·	36
		2.1.5　直连双同轴电缆 ·	37
		2.1.6　以太网数据速率时间轴 ·	38
	2.2　数据中心网络拓扑 ·	39
		2.2.1　数据中心网络分层 ·	40
		2.2.2　数据中心网络的设计因素 ·	40
		2.2.3　物理层网络布局问题 ·	42
		2.2.4　ANSI/TIA-942 标准	43
	2.3　网络虚拟化的优点 ·	44
		2.3.1　网络逻辑分区 ·	44
		2.3.2　网络简化和流量负载平衡 ·	45
		2.3.3　管理整合和布线优化 ·	45
		2.3.4　网络扩展 ·	45
	2.4　总结 ·	45
	2.5　扩展阅读 ·	45
第3章　网络虚拟化入门	46
	3.1　网络分区 ·	47
	3.2　桥接世界的概念	47
	3.3　VLAN 定义 ·	48
	3.4　VLAN 的两个常见误解	53
		3.4.1　误解1 一个VLAN 必须关联到 一个IP 子网	54
		3.4.2　误解2 ：3 层VLAN ·	55
	3.5　生成树协议和VLAN ·	57
		3.5.1　生成树协议的工作机理 ·	59
		3.5.2　端口状态 ·	63
		3.5.3　增强生成树协议 ·	64
		3.5.4　生成树实例 ·	66
	3.6　私有VLAN ·	69
	3.7　VLAN 特性 ·	72
		3.7.1　本征VLAN ·	72
		3.7.2　预留VLAN 标识	73
		3.7.3　资源共享 ·	73
		3.7.4　控制平面和管理平面 ·	73
	3.8　路由世界的概念	74
	3.9　数据中心中的地址重叠 ·	75
	3.10　定义和配置VRF	76
	3.11　VRF 和路由协议	78
	3.12　VRF 和管理平面	83
	3.13　VRF 资源分配控制 ·	85
	3.14　使用案例：数据中心网络分段 ·	86
	3.15　总结	88
	3.16　扩展阅读	88
第4章　ACE 虚拟环境	89
	4.1　应用网络服务 ·	90
	4.2　负载均衡器的使用 ·	90
		4.2.1　负载均衡的概念 ·	92
		4.2.2　4层交换与7层交换	96
		4.2.3　连接管理 ·	97
		4.2.4　地址转换和负载平衡 ·	99
		4.2.5　其他负载平衡的应用 ·	101
		4.2.6　服务器卸载 ·	103
	4.3　负载均衡器在数据中心中的增长 ·	106
		4.3.1　负载均衡器性能 ·	107
		4.3.2　安全策略 ·	107
		4.3.3　次优流量 ·	108
		4.3.4　应用环境独立性 ·	109
	4.4　ACE 虚拟环境	110
		4.4.1　应用控制引擎的物理连接 ·	111
		4.4.2　创建和分配资源给到虚拟环境 ·	114
		4.4.3　整合ACE 虚拟环境到数据中心网络 ·	122
		4.4.4　管理和配置ACE 虚拟环境 ·	126
		4.4.5　控制虚拟环境的管理访问 ·	133
		4.4.6　ACE 虚拟环境的附加特性	137
	4.5　使用案例：多租户数据中心 ·	138
	4.6　总结 ·	140
	4.7　扩展阅读 ·	141
第5章　即时交换机：虚拟设备环境	142
	5.1　设备虚拟化扩展	143
	5.2　为什么使用VDC ·	144
	5.3　VDC 详细介绍	145
	5.4　创建和配置VDC ·	146
		5.4.1　VDC 名称和CLI 提示符 ·	152
		5.4.2　虚拟化嵌套 ·	153
	5.5　分配资源给VDC ·	155
	5.6　使用资源模板 ·	162
	5.7　管理VDC	164
		5.7.1　VDC 操作	164
		5.7.2　进程故障和VDC	165
		5.7.3　VDC 带外管理	166
		5.7.4　基于角色的访问控制和VDC	170
	5.8　全局资源 ·	172
	5.9　使用案例：数据中心安全区域	172
	5.10　总结	174
	5.11　扩展阅读	174
第6章　生成树欺骗	175
	6.1　STP 协议和链路利用率 ·	176
	6.2　链路汇聚 ·	177
	6.3　跨交换机的PortChannel ·	181
	6.4　虚拟PortChannel（vPC）	182
		6.4.1　虚拟PortChannel 的定义 ·	182
		6.4.2　配置虚拟端口通道 ·	186
		6.4.3　第一步：定义vPC 域	186
		6.4.4　第二步：建立对等体保持存活的连接性 ·	187
		6.4.5　第三步：创建对等链路 ·	188
		6.4.6　第四步：创建vPC ·	189
		6.4.7　生成树协议和虚拟PortChannel	191
		6.4.8　对等链路故障和孤立端口 ·	194
		6.4.9　第一跳路由协议和虚拟PortChannel ·	194
	6.52　层多路径及vPC+	199
		6.5.1　FabricPath 数据平面 ·	200
		6.5.2　FabricPath 控制平面 ·	201
		6.5.3　FabricPath 和STP ·	203
		6.5.4　增强虚拟端口通道 ·	207
	6.6　使用案例：网络POD 的演进 ·	210
	6.7　总结 ·	213
	6.8　扩展阅读 ·	213
第7章　带阵列扩展器的虚拟机箱	214
	7.1　服务器接入模型	215
	7.2　理解阵列扩展器	216
		7.2.1　阵列扩展器选项 ·	219
		7.2.2　连接阵列扩展器至父交换机 ·	219
		7.2.3　阵列扩展接口和生成树协议 ·	222
		7.2.4　阵列接口冗余 ·	223
	7.3　阵列扩展器拓扑	226
		7.3.1　直通式拓扑 ·	227
		7.3.2　双宿主拓扑 ·	229
	7.4　使用案例：混合接入数据中心	233
	7.5　总结 ·	234
	7.6　扩展阅读 ·	234
第8章　两个数据中心的传说	235
	8.1　分布式数据中心的简要历史 ·	236
		8.1.1　冷门时期（1970-1980 年） ·	236
		8.1.2　热门时期（1990-2000 年） ·	236
		8.1.3　双活时期（2000- 今） ·	238
	8.22　层扩展实例	238
	8.3　基于光连接的以太网扩展	240
		8.3.1　虚拟端口通道（vPC）	240
		8.3.2　FabricPath	242
	8.4　基于MPLS 的以太网扩展	243
		8.4.1　MPLS 的基本概念	244
		8.4.2　基于多协议标签交换的以太网协议 ·	246
		8.4.3　虚拟私有局域网服务 ·	250
	8.5　基于IP 的以太网扩展 ·	256
		8.5.1　基于GRE 的MPLS	256
		8.5.2　重叠传输虚拟化 ·	258
		8.5.3　OTV 术语	260
		8.5.4　OTV 基本配置	261
		8.5.5　OTV 环路避免和多宿主	265
		8.5.6　迁移到OTV	266
		8.5.7　OTV 站点设计	271
	8.6　VLAN 标识符和2 层扩展 ·	274
	8.7　连接数据中心的内部路由	276
	8.8　使用案例：双活新数据中心 ·	278
	8.9　总结 ·	279
	8.10　扩展阅读	280
第９章 存储的演进	281
	9.1　数据中心中的存储设备 ·	281
		9.1.1　磁盘 ·	281
		9.1.2　磁盘阵列 ·	282
		9.1.3　磁带库 ·	283
	9.2　访问后端数据 ·	284
		9.2.1　块级数据访问 ·	284
		9.2.2　小型计算机系统接口 ·	284
		9.2.3　大型机存储访问 ·	287
		9.2.4　高级技术附件 ·	288
		9.2.5　文件级数据访问 ·	288
		9.2.6　网络文件系统 ·	289
		9.2.7　公共互联网文件系统 ·	289
		9.2.8　记录类型的访问 ·	289
	9.3　存储虚拟化	289
		9.3.1　虚拟化存储设备 ·	291
		9.3.2　虚拟化LUN	293
		9.3.3　拟化文件系统 ·	294
		9.3.4　虚拟化SAN	295
	9.4　总结 ·	295
	9.5　扩展阅读 ·	295
第10章　SAN 孤岛	296
	10.1　一些光纤通道的定义 ·	297
		10.1.1　光纤通道层次 ·	297
		10.1.2　光纤通道拓扑和端口类型 ·	298
		10.1.3　光纤通道地址 ·	299
		10.1.4　帧、序列和交换集 ·	300
		10.1.5　流量控制 ·	301
		10.1.6　服务分类 ·	302
	10.2　交换阵列处理	303
		10.2.1　交换阵列初始化 ·	304
		10.2.2　交换阵列最短路径优先 ·	305
		10.2.3　注册状态变化通知 ·	307
		10.2.4　光纤通道登录 ·	307
		10.2.5　分区 ·	308
	10.3　定义和探索VSAN	309
		10.3.1　SAN 孤岛	309
		10.3.2　创建VSAN ·	310
		10.3.3　VSAN 中继 ·	312
		10.3.4　分区和VSAN ·	315
		10.3.5　FSPF 和VSAN	317
		10.3.6　VSAN 范围 ·	319
	10.4　使用案例：SAN 整合	321
	10.5　总结	323
	10.6　扩展阅读	323
第11章　私密身份	324
	11.1　基于IP 的光纤通道 ·	325
		11.1.1　FCIP 的高可用性	329
		11.1.2　使用案例：部署流量工程的SAN 扩展	330
	11.2　VSAN 间路由	331
		11.2.1　IVR 基础架构	332
		11.2.2　IVR 分区	334
		11.2.3　使用案例：穿越VSAN ·	338
	11.3　N_Port 虚拟化 ·	338
		11.3.1　配置N_Port 虚拟化	341
		11.3.2　NPV 流量管理·	345
		11.3.3　在NPV 上部署pWWN	348
		11.3.4　使用案例：刀片服务器托管数据中心 ·	349
	11.4　总结	350
	11.5　扩展阅读	351
第12章　统一线缆	352
	12.1　数据中心网络融合案例	353
	12.2　数据中心桥接	354
		12.2.1　基于优先级的流量控制 ·	355
		12.2.2　增强型传输选择 ·	356
		12.2.3　数据中心桥接交换协议 ·	357
		12.2.4　拥塞通知 ·	358
	12.3　基于以太网的光纤通道介绍	359
		12.3.1　FCoE 元素 ·	360
		12.3.2　FCoE 初始化协议 ·	361
	12.4　部署统一服务器接入 ·	362
		12.4.1　在单模式交换机上配置统一服务器接入 ·	363
		12.4.2　为存储VDC 配置统一服务器接入 ·	369
	12.5　配置多跳FCoE ·	373
		12.5.1　配置虚拟光纤通道PortChannel	377
		12.5.2　FCoE N_Port 虚拟化	379
	12.6　统一阵列设计	381
		12.6.1　服务器接入层统一设计 ·	382
		12.6.2　超越接入层 ·	387
	12.7　FCoE 和SAN 扩展 ·	388
	12.8　使用案例：LAN 和SAN 管理分离	389
	12.9　总结	396
	12.10　扩展阅读	397
第13章　服务器的演进	398
	13.1　服务器架构 ·	398
		13.1.1　大型机 ·	399
		13.1.2　RISC 服务器 ·	399
		13.1.3　x86 服务器	399
	13.2　x86 架构硬件演进	400
		13.2.1　CPU 演进 ·	401
		13.2.2　内存演进 ·	402
		13.2.3　扩展总线演进 ·	405
		13.2.4　物理形式演进 ·	406
	13.3　x86 服务器虚拟化介绍	407
	13.4　统一计算	410
	13.5　总结	412
	13.6　扩展阅读	412
第14章　改变特性	413
	14.1　服务器部署面临的挑战	414
		14.1.1　服务器域的操作 ·	415
		14.1.2　基础架构域的操作 ·	415
	14.2　统一计算和服务配置文件 ·	415
	14.3　建立服务配置文件	417
		14.3.1　标识一个服务配置文件 ·	421
		14.3.2　存储规范 ·	422
		14.3.3　网络定义 ·	424
		14.3.4　虚拟接口的安装 ·	426
		14.3.5　服务器引导顺序 ·	428
		14.3.6　维护策略 ·	429
		14.3.7　服务器分配 ·	429
		14.3.8　操作策略 ·	430
		14.3.9　关联服务配置文件到服务器 ·	433
		14.3.10　安装操作系统 ·	439
	14.4　验证无状态计算 ·	442
	14.5　使用策略	444
	14.6　固件（Firmware）策略 ·	449
	14.7　大规模服务器部署	452
		14.7.1　克隆 ·	453
		14.7.2　池 ·	453
		14.7.3　服务配置文件模板 ·	454
		14.7.4　服务器池 ·	460
	14.8　使用案例：周期性的工作负载 ·	463
	14.9　总结	465
	14.10　扩展阅读	465
第15章　跨越机架	466
	15.1　虚拟网络介绍	467
	15.2　思科Nexus 1000V 架构	468
	15.3　Nexus 1000V 通信模型 ·	470
	15.4　端口配置文件和动态接口预配置界面	470
	15.5　部署Nexus 1000V ·	472
	15.6　外部连通性和链路汇聚	485
	15.7　虚拟世界里的NX-OS 特性 ·	487
		15.7.1　MAC 地址表 ·	489
		15.7.2　访问列表 ·	490
	15.8　在线迁移和Nexus 1000V	491
	15.9　虚拟可扩展局域网	494
	15.10　虚拟机的阵列扩展器介绍 ·	499
	15.11　部署VM-FEX	501
		15.11.1　在UCS 服务配置文件中启用动态vNIC ·	501
		15.11.2　准备VMware vSphere主机来部署VM-FEX ·	502
		15.11.3　使用UCS Manager VMware集成向导 ·	503
		15.11.4　迁移VM 到VM-FEX ·	508
	15.12　在线迁移和VM-FEX ·	510
	15.13　VM-FEX 高性能模式 ·	513
	15.14　使用案例：数据中心的融合	518
	15.15　总结	519
	15.16　扩展阅读	520
第16章　移动目标	521
	16.1　虚拟网络服务的定义 ·	522
	16.2　虚拟网络服务数据路径	523
	16.3　启用vPath 的虚拟网络服务	524
		16.3.1　思科虚拟安全网关：计算虚拟防火墙 ·	525
		16.3.2　安装虚拟安全网关 ·	526
		16.3.3　创建安全策略 ·	528
		16.3.4　发送数据流量到VSG	530
		16.3.5　虚拟机属性以及虚拟区域 ·	532
		16.3.6　思科ASA 1000V ：边缘虚拟防火墙 ·	534
		16.3.7　安装ASA 1000V ·	535
		16.3.8　发送数据流量到ASA 1000V ·	537
		16.3.9　配置ASA 1000V上的安全策略 ·	539
		16.3.10　应用加速 ·	540
		16.3.11　WAN 加速和在线迁移 ·	544
	16.4　虚拟世界中的路由	545
	16.5　位置选择及服务器虚拟化 ·	548
		16.5.1　路由健康注入（RHI）	548
		16.5.2　全局服务器负载均衡 ·	550
		16.5.3　位置/ 标识分离协议	551
	16.6　使用案例：虚拟数据中心 ·	552
	16.7　总结	554
	16.8　扩展阅读	554
第17章　虚拟数据中心和云计算	556
	17.1　虚拟数据中心	556
	17.2　自动化和标准化 ·	558
	17.3　什么是云计算	561
	17.4　云实施案例 ·	563
	17.5　走向云端	564
	17.6　云中的网络 ·	565
	17.7　软件定义网络	565
	17.8　OpenStack ·	566
	17.9　网络叠加	567
	17.10　思科开放式网络环境 ·	567
	17.11　出发之前... ·	568
	17.12　总结	569
	17.13　扩展阅读	569
附录A　数据中心产品系列	571
附录B　iOS、NX-OS 和应用控制 软件命令行接口基础	579
