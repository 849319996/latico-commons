
核 心 篇 102
第5章 体系结构                                                                  103
	5.1 逻辑和物理存储结构                                                          103
		5.1.1 逻辑存储结构                                                              103
		5.1.2 物理存储结构                                                              104
	5.2 进程结构                                                                    112
		5.2.1 守护进程与服务进程                                                        112
		5.2.2 辅助进程                                                                  112
	5.3 内存结构                                                                    113
		5.3.1 本地内存                                                                  113
		5.3.2 共享内存                                                                  114
	5.4 本章小结                                                                    114
第6章 并行查询                                                                  116
	6.1 并行查询相关配置参数                                                        116
	6.2 并行扫描                                                                    118
		6.2.1 并行顺序扫描                                                              118
		6.2.2 并行索引扫描                                                              119
		6.2.3 并行index-only扫描                                                        121
		6.2.4 并行bitmap heap扫描                                                       122
	6.3 并行聚合                                                                    124
	6.4 多表关联                                                                    126
		6.4.1 Nested loop多表关联                                                       127
		6.4.2 Merge join多表关联                                                        128
		6.4.3 Hash join多表关联                                                         129
	6.5 本章小结                                                                    131
第7章 事务与并发控制                                                            132
	7.1 事务和并发控制的概念                                                        132
		7.1.1 事务的基本概念和性质                                                      132
		7.1.2 并发引发的现象                                                            133
		7.1.3 ANSI SQL标准的事务隔离级别                                                136
	7.2 PostgreSQL的事务隔离级别                                                    137
		7.2.1 查看和设置数据库的事务隔离级别                                            138
		7.2.2 修改全局的事务隔离级别                                                    139
		7.2.3 查看当前会话的事务隔离级别                                                139
		7.2.4 设置当前会话的事务隔离级别                                                139
		7.2.5 设置当前事务的事务隔离级别                                                140
	7.3 PostgreSQL的并发控制                                                        140
		7.3.1 基于锁的并发控制                                                          141
		7.3.2 基于多版本的并发控制                                                      141
		7.3.3 通过pageinspect观察MVCC                                                   144
		7.3.4 使用pg_repack解决表膨胀问题                                               147
		7.3.5 支持事务的DDL                                                             147
	7.4 本章小结                                                                    148
第8章 分区表                                                                    149
	8.1 分区表的意义                                                                149
	8.2 传统分区表                                                                  150
		8.2.1 继承表                                                                    150
		8.2.2 创建分区表                                                                152
		8.2.3 使用分区表                                                                153
		8.2.4 查询父表还是子表                                                          154
		8.2.5 constraint_exclusion参数                                                  155
		8.2.6 添加分区                                                                  157
		8.2.7 删除分区                                                                  157
		8.2.8 分区表相关查询                                                            158
		8.2.9 性能测试                                                                  159
		8.2.10 传统分区表注意事项                                                       162
	8.3 内置分区表                                                                  162
		8.3.1 创建分区表                                                                162
		8.3.2 使用分区表                                                                164
		8.3.3 内置分区表原理探索                                                        164
		8.3.4 添加分区                                                                  165
		8.3.5 删除分区                                                                  165
		8.3.6 性能测试                                                                  166
		8.3.7 constraint_exclusion参数                                                  168
		8.3.8 更新分区数据                                                              169
		8.3.9 内置分区表注意事项                                                        169
	8.4 本章小结                                                                    170
第9章 PostgreSQL的NoSQL特性                                                     171
	9.1 为jsonb类型创建索引                                                         171
	9.2 json、jsonb读写性能测试                                                     172
		9.2.1 创建json、jsonb测试表                                                     172
		9.2.2 json、jsonb表写性能测试                                                   173
		9.2.3 json、jsonb表读性能测试                                                   173
	9.3 全文检索对json和jsonb数据类型的支持                                         176
		9.3.1 PostgreSQL全文检索简介                                                    177
		9.3.2 json、jsonb全文检索实践                                                   180
	9.4 本章小结                                                                    183
